<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-fill-left.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/github_logo.jpeg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/github_logo.jpeg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/github_logo.jpeg?v=5.1.4">


  <link rel="mask-icon" href="/images/github_logo.jpeg?v=5.1.4" color="#222">


  <link rel="manifest" href="/images/github_logo.jpeg">


  <meta name="msapplication-config" content="/images/github_logo.jpeg" />



  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="GitHub" type="application/atom+xml" />






<meta name="description" content="Git小游戏">
<meta property="og:type" content="article">
<meta property="og:title" content="Git小游戏">
<meta property="og:url" content="https://ustccoder.github.io/2022/01/02/skill%20Git_game/index.html">
<meta property="og:site_name" content="GitHub">
<meta property="og:description" content="Git小游戏">
<meta property="og:locale">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game1.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game2.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game3.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game4.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game5.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game6.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game7.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game8.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game9.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game10.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game11.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game12.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game13.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game14.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game15.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game16.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game17.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game18.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game19.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game20.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game21.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game22.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game23.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game24.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game25.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game26.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game27.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game28.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game29.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game30.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game31.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game32.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game33.png">
<meta property="og:image" content="https://ustccoder.github.io/images/SKILL/game34.png">
<meta property="article:published_time" content="2022-01-02T13:55:15.000Z">
<meta property="article:modified_time" content="2023-01-22T03:17:34.423Z">
<meta property="article:author" content="USTCcoder">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ustccoder.github.io/images/SKILL/game.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"perspectiveLeftIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://USTCcoder.github.io/2022/01/02/skill Git_game/"/>





  <title>Git小游戏 | GitHub</title>
  








<meta name="generator" content="Hexo 6.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<!--
<link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>
-->
  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a target="_blank" rel="noopener" href="https://github.com/USTCcoder" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">GitHub</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            我的主页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            日志总览
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分门别类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于博主
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://USTCcoder.github.io/2022/01/02/skill%20Git_game/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="USTCcoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/github.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GitHub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Git小游戏</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-01-02T21:55:15+08:00">
                2022-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Science</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2022/01/02/skill%20Git_game/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2022/01/02/skill%20Git_game/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读数<i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  10k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  36
                </span>
              
            </div>
          

          
              <div class="post-description">
                  <table><tr><td bgcolor=grey><font size=5 face="STXihei" color=white><center>Git小游戏</center></font></td></tr></table>
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/images/SKILL/game.png" alt="1"></p>
<h1 id="Git小游戏"><a href="#Git小游戏" class="headerlink" title="Git小游戏"></a><font size=5 color=red>Git小游戏</font></h1><p>&emsp;&emsp;在两年前，写过一篇Git基础教学的blog，那个时候还在上学，没有接触过太多大型项目，对Git的理解不够深入。现在在公司里，接触到的代码量都是上亿级别的，甚至几万人合作开发，因此必须要熟练运用Git命令，很多小伙伴感觉到困惑，只从网络上查询到Git的基本用法，但是经常会忘记，如何才能有效记忆呢？这里我给大家推荐一个可视化的<a target="_blank" rel="noopener" href="https://learngitbranching.js.org/?locale=zh_CN">Git练习网址</a>，小伙伴们可以一边玩游戏一边掌握Git的使用。</p>
<span id="more"></span>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a><font size=5>前言</font></h1><p>这个博客里面的图片和题库都是来自上面那个网站，目的是和大家一起练习。Git小游戏将Git操作分为七个部分，这篇博客也会分成七个段落去介绍每一道题目的解法和原理。小伙伴们在学习时，可以看图先进行练习，然后再和答案进行对比。这里答案是不唯一的，如果有更好的答案，也可以和我进行沟通交流，希望你我都可以从中学习到更多的知识。</p>
<h1 id="基础篇"><a href="#基础篇" class="headerlink" title="基础篇"></a><font size=5>基础篇</font></h1><h2 id="Git-Commit"><a href="#Git-Commit" class="headerlink" title="Git Commit"></a>Git Commit</h2><p><img src="/images/SKILL/game1.png" alt="game1"></p>
<p>这个题目非常容易了，我们一般开发完代码后，都需要三步走，add - commit - push，这里是教给大家如何commit。但是一般git commit 后面要加一些注释，所以常用git commit -m操作。这里也一样，我们就对C2节点加”C2”注释。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// C2节点提交</span><br><span class="line">git commit -m &quot;C2&quot;</span><br><span class="line">// C3节点提交</span><br><span class="line">git commit -m &quot;C3&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Git-Branch"><a href="#Git-Branch" class="headerlink" title="Git Branch"></a>Git Branch</h2><p><img src="/images/SKILL/game2.png" alt="game2"></p>
<p>分支是Git中的一个重要组成部分，一般在代码开发阶段都会创建多个分支，在dev上面进行开发，main上面进行提交。本题难度也不大，只是简单的创建分支和切换分支。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建bugFix分支</span><br><span class="line">git branch bugFix</span><br><span class="line">切换到bugFix分支上</span><br><span class="line">git checkout bugFix</span><br></pre></td></tr></table></figure>

<p>本题的最优解法是分支的创建和切换合并成一步操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">创建分支，并切换到该分支上</span><br><span class="line">git checkout -b bugFix</span><br></pre></td></tr></table></figure>
<p>git checkout -b branchName nodeName也可以在某个节点上创建分支，nodeName默认为当前节点。</p>
<h2 id="Git-Merge"><a href="#Git-Merge" class="headerlink" title="Git Merge"></a>Git Merge</h2><p><img src="/images/SKILL/game3.png" alt="game3"></p>
<p>Merge操作是将两个分支进行合并，比如你在dev分支上进行开发，开发完成后要在main上面提交，此时就需要将分支进行合并。本题也很简单，只是最普通的合并操作即可。</p>
<p>此时要审题，因为C2节点上面的分支是bugFix，所以要先创建一个bugFix的分支，并且进行一次提交。而main上面有C3和C4节点，说明main也进行了一次提交，然后合并了bugFix分支。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 创建bugFix分支</span><br><span class="line">git checkout -b bugFix</span><br><span class="line">// bugFix提交C2节点</span><br><span class="line">git commit -m &quot;C2&quot;</span><br><span class="line">// 切换回main分支</span><br><span class="line">git checkout main</span><br><span class="line">// main分支提交C3节点</span><br><span class="line">git commit -m &quot;C3&quot;</span><br><span class="line">// main分支合并bugFix分支</span><br><span class="line">git merge bugFix</span><br></pre></td></tr></table></figure>

<p>此时要注意一件事，有时候要将dev和main的节点保持一致，所以也要讲dev移动要main上面去，此时可以切换回dev分支，并使用git merge main，因为此时main分支已经和dev分支合并过了，所以执行合并操作后，会直接将dev移动到main节点上。</p>
<h2 id="Git-Rebase"><a href="#Git-Rebase" class="headerlink" title="Git Rebase"></a>Git Rebase</h2><p><img src="/images/SKILL/game4.png" alt="game4"></p>
<p>Rebase操作算是一个比较进阶的操作了，也是一种合并分支的操作，只不过它和merge的区别在于，merge直接将有分叉的两个分支合并，而rebase是将一个分支的后面逐个增加另一个分支的节点，保持一种线性的合并关系。</p>
<p>本题可以看出我们需要先创建一个bugFix分支，然后进行一次提交。然后在main分支上进行一次提交。最后将bugFix的节点追加在main的后面，可以理解为换基，也就是说C2节点是基于C1节点进行的一次提交，现在换成基于C3节点的一次提交。这也就是rebase的含义，re代表重新，再一次，base表示基准。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 创建bugFix分支</span><br><span class="line">git checkout -b bugFix</span><br><span class="line">// bugFix提交C2节点</span><br><span class="line">git commit -m &quot;C2&quot;</span><br><span class="line">// 切换回main分支</span><br><span class="line">git checkout main</span><br><span class="line">// main分支提交C3节点</span><br><span class="line">git commit -m &quot;C3&quot;</span><br><span class="line">// 切换到bugFix分支上</span><br><span class="line">git checkout bugFix</span><br><span class="line">// 将bugFix换基到main</span><br><span class="line">git rebase main</span><br></pre></td></tr></table></figure>

<p>上面的代码和merge非常相似，小伙伴们可以将两种操作进行比较。本题最后两步可以合并为一步。git rebase main bugFix，这个目的就是将bugFix分支换基到main上面。</p>
<h1 id="高级篇"><a href="#高级篇" class="headerlink" title="高级篇"></a><font size=5>高级篇</font></h1><h2 id="分离HEAD"><a href="#分离HEAD" class="headerlink" title="分离HEAD"></a>分离HEAD</h2><p><img src="/images/SKILL/game5.png" alt="game5"></p>
<p>我们知道，其实Git的本质是一个链表，一次commit就相当于在头节点HEAD前面追加一个节点，并且移动HEAD的位置。因此HEAD总是指向当前分支上最近一次的提交记录。</p>
<p>git checkout检出操作，可以调整HEAD当前的指向。本题非常简单，因为要显式表示HEAD的位置，因此虽然HEAD默认在bugFix最近一次提交，但是也需要检出。<strong>值得注意的是，如果检出了HEAD节点，再次提交时只有HEAD节点发生移动，分支不会移动了。如果没有检出，再次提交时，HEAD节点和分支会同时向前移动，这也就是为什么称为分离HEAD</strong>。</p>
<p>检出命令指定节点的哈希值，不能指定分支名，因为指定分支名是切换分支的命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 在C4节点上检出HEAD</span><br><span class="line">git checkout C4</span><br></pre></td></tr></table></figure>

<p>既然聊到了checkout，我们已经知道git checkout的两种用法，一个是切换分支，另一个是检出HEAD节点。<strong>其实checkout还有一种用法，就是将工作区的内容恢复到暂存区的状态。说的简单点就是如果某个文件进行了修改，但是还没有add，就可以使用git checkout – filename进行回退。如果想回退所有文件，可以使用git checkout .</strong></p>
<p>扩展一些，如果某个文件刚刚添加，还是untracked的状态，因为git checkout .仅仅是将工作区恢复到暂存区，因为文件都还没有被跟踪，所以新添加的文件不会被回退，此时应该如何操作呢？git clean这个命令要慎用，git clean -f是删除untracked的文件，git clean -df是删除untracked的文件和文件夹。git clean -x是指删除.gitignore中的文件，因此一般使用git clean -xdf删除所有untracked的文件。</p>
<p>再扩展一些，如果某个文件已经add了，如何将其删除呢？可以使用git reset HEAD filename。此时可以将加入到暂存区的文件恢复到工作区。关于reset的更多用法，后面会进行介绍。</p>
<h2 id="相对引用"><a href="#相对引用" class="headerlink" title="相对引用(^)"></a>相对引用(^)</h2><p><img src="/images/SKILL/game6.png" alt="game6"></p>
<p>相对引用^是指回到某个节点的上一个节点，在本题中想要到C3节点上去，可以使用节点哈希值直接检出，更推荐使用相对引用解决本题。</p>
<p>^可以出现在某个分支后面，也可以出现在某个节点的哈希值后面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 在bugFix分支的前一次提交上检出HEAD节点</span><br><span class="line">git checkout bugFix^</span><br></pre></td></tr></table></figure>

<p>也可以写git checkout C4^，因为本题不推荐使用哈希值，所以这里不进行演示。</p>
<h2 id="相对引用-1"><a href="#相对引用-1" class="headerlink" title="相对引用(~)"></a>相对引用(~)</h2><p><img src="/images/SKILL/game7.png" alt="game7"><br>相对引用<del>就更简单了，是解决相对引用^的复杂问题。比如我想回到某个节点的前10个节点，按照上面的做法需要^操作10次，而使用</del>只需要在后面加上一个数字，就可以直接回到前10个节点。</p>
<p>我们来看一下这个题目，这个题目又可以让我们学到新知识了，这里不是简单的检出操作，而是要将分支进行修改，<strong>git branch -f branch_name node_name可以将分支修改到某个节点上</strong>。本题需要将main分支移动到C6节点，将bugFix分支移动到C0节点，将HEAD检出到C1节点。</p>
<p>我们可以通过绝对引用将main分支移动到C6节点，然后将bugFix使用相对引用移动到前面4个节点，将HEAD移动到前面3个节点即可。虽然bugFix和HEAD也可以使用绝对引用，但是这里还是推荐相对引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 将main分支切换到C6节点上</span><br><span class="line">git branch -f main C6</span><br><span class="line">// 将bugFix分支切换到main分支的前4个节点上</span><br><span class="line">git branch -f bugFix main~4</span><br><span class="line">// 在main分支的前3个节点上检出HEAD</span><br><span class="line">git checkout main~3</span><br></pre></td></tr></table></figure>

<h2 id="撤销变更"><a href="#撤销变更" class="headerlink" title="撤销变更"></a>撤销变更</h2><p><img src="/images/SKILL/game8.png" alt="game8"><br>我们常常需要进行回退操作，比如写了一段代码，发现了一些bug，想回到以前的状态。这应该如何操作呢？首先我们需要明确一件事情，我们是想回到以前，看一下以前的代码，并进行更改后提交还是想回到以前提交以前的代码？</p>
<p>可能这段逻辑说的有一些拗口，假如在节点C1上面提交了a，然后又在节点C2上面提交了b，现在想回到节点C1，在a的基础上提交c，这时候就是第一种情况，回到以前的代码，进行更改后提交。此时使用git reset C1操作，可以将节点移动到C1上面，此时进行修改、add、commit即可。</p>
<p>注意git reset还有三种常用的模式。</p>
<ul>
<li>git reset –hard 这种是最粗暴的方式，将所有跟踪到的，无论是工作区还是暂存区全部清空。</li>
<li>git reset 这种是平滑的方式，将工作区、暂存区以及reset导致的差异都放进工作区中，并清空暂存区。</li>
<li>git reset –soft 这种是最柔弱的方式，保留工作区，将暂存区以及reset导致的差异都放进暂存区中。</li>
</ul>
<p>上面说的都是第一种情况，如果是第二种情况，想回到以前的代码，直接进行提交，不修改任何操作。此时使用git revert HEAD操作，会直接生成一个新的节点，和上一个节点的内容完全相同，并且会直接跳转到commit message页面。</p>
<p>值得注意的是git revert操作尽量不要跳跃多步操作，因为这样需要我们去手动解决冲突。</p>
<p>还有一点是git revert与git reset的差异，git revert HEAD是指新建一个节点与上一个节点内容相同。而git reset HEAD^是指回到上一个节点。注意revert是没有^符号的。</p>
<p>讲了这么多，终于可以讲本题了。。。本题就非常简单了，local指向C3节点，没有创建新节点，只是希望指针移动到C1节点，那么就是用git reset操作。pushed指向C2节点，希望创建一个新的用于提交的C1节点，那么就使用git revert操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 将HEAD回退到上一个节点</span><br><span class="line">git reset HEAD^</span><br><span class="line">// 切换到pushed分支</span><br><span class="line">git checkout pushed</span><br><span class="line">// 创建和pushed分支上一次提交一样的节点</span><br><span class="line">git revert HEAD</span><br></pre></td></tr></table></figure>

<h1 id="移动提交记录"><a href="#移动提交记录" class="headerlink" title="移动提交记录"></a><font size=5>移动提交记录</font></h1><h2 id="Git-Cherry-pick"><a href="#Git-Cherry-pick" class="headerlink" title="Git Cherry-pick"></a>Git Cherry-pick</h2><p><img src="/images/SKILL/game9.png" alt="game9"><br>git cherry-pick是将一些节点复制到当前所在的HEAD下面，并将HEAD移动到新的节点上。注意如果此时当前节点和cherry-pick的节点有冲突，则需要解冲突，然后git add，git cherry-pick –continue才是一个完整的cherry-pick操作。如果中途不想cherry-pick，则使用git cherry-pick –abort终止。</p>
<p>本题看起来很多节点，其实非常简单。而且cherry-pick操作可以一次性指定多个节点或分支名，非常方便。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 在HEAD下面追加C3 C4 C7节点</span><br><span class="line">git cherry-pick C3 C4 C7</span><br></pre></td></tr></table></figure>

<h2 id="交互式Rebase"><a href="#交互式Rebase" class="headerlink" title="交互式Rebase"></a>交互式Rebase</h2><p><img src="/images/SKILL/game10.png" alt="game10"><br>rebase操作在上面已经介绍过了，其中还有一些进阶的用法，其中rebase -i可以交互式的对提交进行合并、删除和交换顺序，这一点是非常非常重要的。</p>
<p>举个实用的例子，我们向开发分支上面进行了1次代码开发，9次bugFix。此时觉得功能已经开发完成了，现在想要合入主干代码。这个时候如果进行cherry-pick，需要做10次，因为每一次提交都要进行cherry-pick。现在我们可以使用rebase进行代码合并，将开发分支合并为一次提交，此时只需要cherry-pick一次到主干即可。</p>
<p>git rebase -i nodeName可以以某个节点为基，将其后面的节点进行rebase。比如想合并10次提交，git rebase -i HEAD~10。此时会进入到一个交互式界面，此时所有的提交都会出现pick的状态，pick代表选择，squash代表合并，也可以将某一行删去代表删除。比如合并10次，则将开发的提交写为pick或者p，将其他9次bugFix的提交写为squash或者s，然后保存退出，此时会进入到commit message界面，对提交信息进行调整，保存退出后会新生成一个节点，里面包含了所有10次的提交。</p>
<p>说了这么多，小伙伴们可以在本地建立一个git仓库实验一下，我们回到本题上面来。这个小游戏将枯燥的交互界面进行了优化，不用输入代码，仅仅需要鼠标拖动即可。但是在本地是需要用命令来可视化操作的。</p>
<p>因为新的分支上面只有C3 C5 C4三个节点，因此可以认为是删除了C2节点，并调整了C4和C5的顺序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 对前4次提交进行交互式调整</span><br><span class="line">git rebase -i HEAD~4</span><br></pre></td></tr></table></figure>

<p>虽然本题很简单，但是在本地应该如何去做这个题目呢？<br>第一句话和本题一样，git rebase -i HEAD~4，然后在交互式界面中删除第一句话，将最后两句交换位置，保存退出即可。如果有冲突则需要解决冲突，git add，git rebase –continue，此时到commit message界面，同样保存退出即可。</p>
<h1 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a><font size=5>杂项</font></h1><h2 id="只取一个提交记录"><a href="#只取一个提交记录" class="headerlink" title="只取一个提交记录"></a>只取一个提交记录</h2><p><img src="/images/SKILL/game11.png" alt="game11"><br>本题没有什么新鲜的技巧，就是使用前面刚刚学习的git cherry-pick或者git rebase -i操作。</p>
<p>本题要将bugFix节点单独拉出来一条分支，可以使用git cherry-pick操作，首先切换到main分支，然后cherry-pick bugFix节点即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 切换到main分支</span><br><span class="line">git checkout main</span><br><span class="line">// main分支下面追加bugFix节点</span><br><span class="line">git cherry-pick bugFix</span><br></pre></td></tr></table></figure>

<p>也可以使用git rebase 操作，删除其他两个提交，只将bugFix提交保留，并且将当前main分支修改到bugFix分支即可。注意此时不是切换，而是修改git branch -f操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 以前三个节点为基，删除C2和C3节点</span><br><span class="line">git rebase -i HEAD~3</span><br><span class="line">// 将main分支修改到bugFix分支</span><br><span class="line">git branch -f main bugFix</span><br></pre></td></tr></table></figure>

<h2 id="提交的技巧1"><a href="#提交的技巧1" class="headerlink" title="提交的技巧1"></a>提交的技巧1</h2><p><img src="/images/SKILL/game12.png" alt="game12"><br>在我们的开发阶段，比如修改了某个功能，以本题为例，修改了某个图片的分辨率，然后进行了一次提交，节点为C2。后面有进行了其他功能的开发和提交，节点为C3。此时如果发现C2节点分辨率有改动，想进行修改，此时可以先使用rebase将C2节点移动到前面，然后进行git commit –amend操作进行修改，修改完成后再次使用rebase操作将C2的节点移动回去。</p>
<p>这里git commit –amend操作，就是在某一次提交后面打补丁，进行进一步修改提交。会产生一个新的commit id，但是该commit id会覆盖原来的，而不是在后面追加。如果是git commit则会在后面追加新的commit id。</p>
<p>此题的答案就如同上面的解析一样，看懂了解释就会解答本题。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 以前两个节点为基，调整C2和C3节点的顺序</span><br><span class="line">git rebase -i HEAD~2</span><br><span class="line">// 在当前caption分支后面追加一次提交</span><br><span class="line">git commit --amend</span><br><span class="line">// 以前两个节点为基，调整C3&#x27;&#x27;和C2&#x27;节点的顺序</span><br><span class="line">git rebase -i HEAD~2</span><br><span class="line">// 将main分支修改到caption分支</span><br><span class="line">git branch -f main caption</span><br></pre></td></tr></table></figure>

<h2 id="提交的技巧2"><a href="#提交的技巧2" class="headerlink" title="提交的技巧2"></a>提交的技巧2</h2><p><img src="/images/SKILL/game13.png" alt="game13"><br>和上面的场景一样，但是两次使用rebase操作，可能会产生大量的冲突，我们还可以用另一种方式进行解决。</p>
<p>我们能否先cherry-pick第一个节点，进行git commit -amend操作后再cherry-pick另外一个节点呢？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 切换到main分支</span><br><span class="line">git checkout main</span><br><span class="line">// 在main分支下面追加newImage节点</span><br><span class="line">git cherry-pick newImage</span><br><span class="line">// 在main分支后面追加一次提交</span><br><span class="line">git commit --amend</span><br><span class="line">// 在main分支下面追加caption节点</span><br><span class="line">git cherry-pick caption</span><br></pre></td></tr></table></figure>
<h2 id="Git-Tag"><a href="#Git-Tag" class="headerlink" title="Git Tag"></a>Git Tag</h2><p><img src="/images/SKILL/game14.png" alt="game14"><br>做标记，往往我们进行了一次开发，如果时间较长，可能提交次数非常多，有时候重要的特性会被遗忘在提交海中。这时候我们可以对某些重要的节点进行标记，git tag tagName nodeName。非常简单就是给节点名加上标记。可以使用这些节点名进行指针跳跃，注意不要给自己找麻烦，将B节点名作为A节点的tag。结果是想跳转到B，会跳转到A。</p>
<p>如果想要删除某个tag，使用git tag -d tagName。</p>
<p>本题就非常简单了，直接给C1节点标记为v1，C2节点标记为v2，并检出v1即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 给C1节点标记为v1</span><br><span class="line">git tag v0 C1</span><br><span class="line">// 给C2节点标记为v2</span><br><span class="line">git tag v1 C2</span><br><span class="line">// 在标记为v1的节点上检出HEAD</span><br><span class="line">git checkout v1</span><br></pre></td></tr></table></figure>
<h2 id="Git-Describe"><a href="#Git-Describe" class="headerlink" title="Git Describe"></a>Git Describe</h2><p><img src="/images/SKILL/game15.png" alt="game15"><br>这里有一个误导，本题是有问题，git describe是查询带有annotation的tag，如果是查询不带有annotation的tag，则需要使用git describe –tags nodeName。这个命令是查找某个节点之前距离最近的一个带有tag的节点。</p>
<p>运行该代码后如果没有找到在该节点之前，并且带有tag的节点，则会报错。如果找到了，如果该节点自身就带有tag，则会显示该tagName，否则会以下面这个方式显示。tagName-distance-gnodeName。</p>
<p>这里说明一点，tagName是指找到的某个节点的tag名，distance表示该节点距离所查找的节点距离，gnodeName是指节点的哈希值前面加一个字符g。</p>
<p>比如A-B-C的提交顺序，B的tag为tagB。</p>
<ul>
<li>git describe –tags A结果会报错，因为A之前没有含有tag的节点</li>
<li>git describe –tags B会显示tagB，因为B本身就含有tag，直接打印出tagName</li>
<li>git describe –tags C会显示tagB-1-gC，因为B距离C为1</li>
</ul>
<p>本题是一个福利局，仅仅做一个git commit就可以通过。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 进行一次提交</span><br><span class="line">git commit -m &quot;C7&quot;</span><br></pre></td></tr></table></figure>
<h1 id="高级话题"><a href="#高级话题" class="headerlink" title="高级话题"></a><font size=5>高级话题</font></h1><h2 id="多次Rebase"><a href="#多次Rebase" class="headerlink" title="多次Rebase"></a>多次Rebase</h2><p><img src="/images/SKILL/game16.png" alt="game16"><br>这一节的标题是多次rebase，从题目中就可以看出来，我们要产生一条新的分支，将C3一直到C7都rebase到C2节点上。其中的操作我们在rebase已经讲过，难度不大，本题可以作为rebase的练习题。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 以main为基，追加bugFix上的节点</span><br><span class="line">git rebase main bugFix</span><br><span class="line">// 以bugFix为基，追加side上的节点</span><br><span class="line">git rebase bugFix side</span><br><span class="line">// 以side为基，追加another上的节点</span><br><span class="line">git rebase side another</span><br><span class="line">// 将main分支修改到another上</span><br><span class="line">git branch -f main another</span><br></pre></td></tr></table></figure>

<h2 id="两个父节点"><a href="#两个父节点" class="headerlink" title="两个父节点"></a>两个父节点</h2><p><img src="/images/SKILL/game17.png" alt="game17"><br>我们再说回到merge操作，merge是合并两条分支，因此后面的提交就会出现两个父节点，那么如何指定回到某一个父节点呢？</p>
<p>之前说过的相对引用，相对引用^其实是回到第一个父节点，如果有多个父节点，也是回到第一个父节点。那么如何回到第二个父节点呢？^2就可以回到第二个父节点了，同理^n是回到第n个父节点。</p>
<p>那么如何看哪一个父节点是第一个父节点呢？交给大家一个非常好用的方法<br><code>git log --oneline --all --graph</code><br>这是用图形化的方式显示提交记录，从左到右是父节点的顺序。而本题又有一个误导，因为本题的图形化界面并不是log的形式，而制作这个游戏的人可能也没有注意到这一点，这个题目第二个父节点在左边。</p>
<p>本题明确父节点的位置就非常简单了，而且要注意的是相对引用的^和~可以连续。关于如何连续使用，可以先自己使用常规方法解答本题后，看一下下面的答案。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 创建bugWork分支，指向HEAD的父节点的第二个父节点的父节点</span><br><span class="line">git branch bugWork HEAD^^2^</span><br></pre></td></tr></table></figure>

<h2 id="纠缠不清的分支"><a href="#纠缠不清的分支" class="headerlink" title="纠缠不清的分支"></a>纠缠不清的分支</h2><p><img src="/images/SKILL/game18.png" alt="game18"><br>下面我们再来一个练习，现在有一个main分支，和one、two、three三个分支，main分支进行了多次提交，但是另外三个分支在较早的节点上。希望达到如上图的效果。</p>
<p>其实方法很简单，我们要明确在哪个节点进行岔路，可以看到在C1节点岔路。因此我们要在C1上面cherry-pick其他main分支上的其他提交。而恰巧one、two、three都在C1节点上，所以本题的最优解是使用cherry-pick操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 切换到one分支</span><br><span class="line">git checkout one</span><br><span class="line">// 在one分支后面追加C4 C3 C2节点</span><br><span class="line">git cherry-pick C4 C3 C2</span><br><span class="line">// 切换到two分支</span><br><span class="line">git checkout two</span><br><span class="line">// 在two分支后面追加C5 C4 C3 C2节点</span><br><span class="line">git cherry-pick C5 C4 C3 C2</span><br><span class="line">// 将three分支修改到C2节点</span><br><span class="line">git branch -f three C2</span><br></pre></td></tr></table></figure>

<p>使用rebase操作也可以达到相同的结果，只不过需要多花一些步骤，既然是练习，这里也进行演示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 将one分支修改到main节点</span><br><span class="line">git branch -f one main</span><br><span class="line">// 切换到one分支</span><br><span class="line">git checkout one</span><br><span class="line">// 以前4个节点为基，删除节点C5，并调整节点顺序为C4 C3 C2</span><br><span class="line">git rebase -i HEAD~4</span><br><span class="line">// 将two分支修改到main节点</span><br><span class="line">git branch -f two main</span><br><span class="line">// 切换到two分支</span><br><span class="line">git checkout two</span><br><span class="line">// 以前4个节点为基，调整节点顺序为C5 C4 C3 C2</span><br><span class="line">git rebase -i HEAD~4</span><br><span class="line">// 将three分支修改到C2节点</span><br><span class="line">git branch -f three C2</span><br></pre></td></tr></table></figure>

<h1 id="Push-amp-Pull-——Git远程仓库"><a href="#Push-amp-Pull-——Git远程仓库" class="headerlink" title="Push &amp; Pull ——Git远程仓库!"></a><font size=5>Push &amp; Pull ——Git远程仓库!</font></h1><h2 id="Git-Clone"><a href="#Git-Clone" class="headerlink" title="Git Clone"></a>Git Clone</h2><p><img src="/images/SKILL/game19.png" alt="game19"><br>我们之前聊的都是git的本地操作，现在要学习如何与远程分支打交道，这也是我们学习git的根本原因。因为在公司进行编码时，主干、商用、开发分支等都会在远端，不可能在本地，所以学习远程git是非常非常重要的。</p>
<p>首先介绍git clone remoteBranchName，这个操作是最基础的，常被人称为拉分支。相当于在本地拉一条远端的分支。clone这个单词顾名思义了，其实就是将远端的分支克隆到本地，其中节点信息都可以在本地看到。</p>
<p>我们可以先了解到这里，随着后面的题目训练，我们会更有感悟。本题对新手非常不友好，虽然就是很简单的git clone操作，但是会给同学们造成很深的误解，都是先有远程分支，然后clone到本地，而UI显示的却是将本地的分支clone到远端，小伙伴们不要在意就好。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 克隆一条远端分支</span><br><span class="line">git clone</span><br></pre></td></tr></table></figure>
<h2 id="远程分支"><a href="#远程分支" class="headerlink" title="远程分支"></a>远程分支</h2><p><img src="/images/SKILL/game20.png" alt="game20"><br>往往我们拉分支都会选择一个空的文件夹去git clone，拉下来会默认创建一个分支，该分支与远端的分支同名。但是HEAD指向本地的克隆分支，如何区别本地和远端的分支呢？</p>
<p>在git bash中本地的分支名为绿色的，且前面会有HEAD指针，当然如果改变了指向就没有HEAD指针了。而远端的分支名为红色的，且前面会有origin/的标识，表示远端分支。</p>
<p>注意本题又是一个陷阱，本题的目的是教会我们如何区分本地分支和远程分支。其实我们在本地并不能切换到远程分支上，因此题目的描述是错误的，这个我们理解即可。要想做好本题，需要在本地分支和远程分支各做一次提交，代码非常简单。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 在本地分支上进行一次提交</span><br><span class="line">git commit -m &quot;C2&quot;</span><br><span class="line">// 将HEAD节点检出到远端分支上</span><br><span class="line">git checkout o/main</span><br><span class="line">// 在远端分支上进行一次提交</span><br><span class="line">git commit -m &quot;C3&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Git-Fetch"><a href="#Git-Fetch" class="headerlink" title="Git Fetch"></a>Git Fetch</h2><p><img src="/images/SKILL/game21.png" alt="game21"><br>根据前面的学习，我们已经会克隆远程分支并进行提交了，那么如果在多人的开发过程中，有人在远端进行了提交，我们如何进行同步更新呢？下面就要介绍git fetch操作，这个操作是从远端下载本地缺少的提交记录，并且把远程分支的指针更新到最新。</p>
<p>注意，此时是不会有冲突的，因为这一步操作仅仅是更新了远程的分支，并不影响本地的HEAD。有的小伙伴会有疑问，如果本地修改的和远程修改的地方相同，这应该怎么办呢？我们把这个问题先放一放，先把这道题解决~因为本题有两个远程分支，因此两个远程分支都需要fetch，因为clone的时候已经关联了远程分支，因此此时不需要再指定远程分支的全名了，直接git fetch即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将远程分支更新到本地</span><br><span class="line">git fetch</span><br></pre></td></tr></table></figure>

<h2 id="Git-Pull"><a href="#Git-Pull" class="headerlink" title="Git Pull"></a>Git Pull</h2><p><img src="/images/SKILL/game22.png" alt="game22"><br>下面介绍git pull操作，在讲到git fetch的时候，抛出了一个问题。当本地分支已经进行了提交，此时远程分支和本地分支修改了同一个文件，此时git fetch不会产生冲突。如果此时执行git merge origin/main操作，就会产生冲突，因为当你提交的分支在main上面，而git fetch是更新远程分支origin/main，此时两个分支互不影响，而此时执行git merge origin/main，就会产生冲突。</p>
<p>而git pull就等价于git fetch + git merge origin/main操作，将远程分支更新，并进行合并。因此git pull是可能产生冲突的。</p>
<p>本题也很简单，游戏里面不需要解冲突，我们只需要关心git pull操作做了哪些事情即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将远程分支更新到本地并合并为一个新的提交</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h2 id="模拟团队合作"><a href="#模拟团队合作" class="headerlink" title="模拟团队合作"></a>模拟团队合作</h2><p><img src="/images/SKILL/game23.png" alt="game23"><br>本题又是一个误导，根本没有git fakeTeamwork这个命令，只是为了模拟远程提交而做的一些trick。我们按照提示完成本题即可，完全可以忽略本题。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 克隆一条远端分支</span><br><span class="line">git clone</span><br><span class="line">// 模拟两次远程main分支的提交</span><br><span class="line">git fakeTeamwork main 2</span><br><span class="line">// 在本地main分支进行一次提交</span><br><span class="line">git commit -m &quot;C4&quot;</span><br><span class="line">// 将远程分支更新到本地并合并为一个新的提交</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h2 id="Git-Push"><a href="#Git-Push" class="headerlink" title="Git Push"></a>Git Push</h2><p><img src="/images/SKILL/game24.png" alt="game24"><br>我们终于讲到了最后一个重要的操作，git push，可以明显的看出git pull和git push是相反的一组操作。git pull是从远端拉取最新的提交，而git pull则是将本地最新的提交上传到远端。尤其是我们在和别人协作开发代码的时候，更是要经常使用git push操作，因为当我们的代码开发完成之后，总要让其他开发人员也看得到，因此要上传到远端，就是git push命令。</p>
<p>注意git push命令除了将本地代码提交到远端以外，还会将远端分支进行更新，也更新到最新。前提是我们在push之前要进行一次pull操作，先将代码更新到最新，然后才能进行push，这个也很好理解，如果代码都不是最新的，如何push上去，在当前最新的远端分支上追加新的提交呢？</p>
<p>关于git push命令的一些参数，我们后面会进行训练，我们这里先闯过这一关。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<h2 id="偏离的提交历史"><a href="#偏离的提交历史" class="headerlink" title="偏离的提交历史"></a>偏离的提交历史</h2><p><img src="/images/SKILL/game25.png" alt="game25"></p>
<p>越写到后面越感觉得心应手了(这是一个双关)，不仅仅是小伙伴们的git技术越来越熟练，我的博客写的也是越来越顺畅了。刚刚才说过push之前必须将节点更新至最新，这一题就来了。之前是使用git pull命令将代码拉到最新，但是可能会发生冲突，因为git pull会首先将代码拉取下来，然后进行合并，这时候我们尽量不要一步到位，所以一般不直接使用git pull。而是使用git fetch，然后可以根据需要使用merge合并操作或者git rebase换基操作。</p>
<p>这里我们还要对命令进行扩展，git pull = git fetch + git merge。那么git pull –rebase  = git fetch + git rebase。</p>
<p>这很简单，git fetch之前就说过，是git pull的第一步，而git merge和git rebase在之前也详细介绍过，所以这部分知识点对于小伙伴们肯定是不算难了，下面我们直接到看这个题目吧。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 克隆一条远端分支</span><br><span class="line">git clone</span><br><span class="line">// 模拟一次远程main分支的提交</span><br><span class="line">git fakeTeamwork</span><br><span class="line">// 在本地main分支进行一次提交</span><br><span class="line">git commit -m &quot;C3&quot;</span><br><span class="line">// 拉取远程分支的提交，换基到该分支上</span><br><span class="line">git pull --rebase</span><br><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h2 id="锁定的Main-Locked-Main"><a href="#锁定的Main-Locked-Main" class="headerlink" title="锁定的Main(Locked Main)"></a>锁定的Main(Locked Main)</h2><p><img src="/images/SKILL/game26.png" alt="game26"><br>这个练习的知识点并不常用，我也不是很熟悉，我们就当扩展练习吧，看一看它出了哪些幺蛾子？</p>
<p>在工作中最常用的命令顺序是git clone、git add、git commit、git push。而有时候远程的main被锁定了，如果git push会被拒绝，此时应该创建一个分支，push该分支即可。</p>
<p>本题可以看出，main节点被锁定在C1，因此我们要先将本地main分支切换到C1，然后在C2点创建一个feature分支提交上去。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 将本地main回退到上一个节点</span><br><span class="line">git reset --hard HEAD^</span><br><span class="line">// 在C2节点上创建feature分支，并切换到该分支上</span><br><span class="line">git checkout -b feature C2</span><br><span class="line">// 推本地feature到远端分支</span><br><span class="line">git push origin feature</span><br></pre></td></tr></table></figure>

<p>这里使用了git pull origin branchName，留了一个origin参数的伏笔，会在后面进行详细介绍。</p>
<h1 id="关于origin和它的周边——Git远程仓库高级操作"><a href="#关于origin和它的周边——Git远程仓库高级操作" class="headerlink" title="关于origin和它的周边——Git远程仓库高级操作"></a><font size=5>关于origin和它的周边——Git远程仓库高级操作</font></h1><h2 id="推送主分支"><a href="#推送主分支" class="headerlink" title="推送主分支"></a>推送主分支</h2><p><img src="/images/SKILL/game27.png" alt="game27"><br>本关是一个练习关卡，我们运用上面学过的知识来解题吧~这里先让小伙伴们做一下，然后再给出思考过程。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 将分支切换到main</span><br><span class="line">git checkout main</span><br><span class="line">// 拉取远程分支</span><br><span class="line">git pull</span><br><span class="line">// 在main分支后面追加C2 C3 C4 C5 C6 C7节点</span><br><span class="line">git cherry-pick C2 C3 C4 C5 C6 C7</span><br><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<p>思考过程：我们可以发现远端有C8节点，本地没有，因此需要先更新本地代码。因为当前分支不在main分支上，所以前两步操作是git checkout main、git pull。然后我们发现最终的远程分支是在C8节点后追加C2-C7节点，因此可以cherry-pick本地的C2-C7，然后push上去，因此后两步操作是git cherry-pick C2 C3 C4 C5 C6 C7、git push。</p>
<p>然而这样做是可以通过本题的，也是最好的一种方式，但是和本题的结果不完全一样，因为本地结果side1分支应该指向C2‘节点，side2分支应该指向C4’节点，side3分支应该指向C7’节点，也就是指向新的C2、C4和C7节点，而上面的做法没有改变其指向。</p>
<p>如果小伙伴们追求和答案一样，也可以git branch -f side1 C2’、git branch -f side2 C4’、git branch -f side3 C7’，但是步骤就是7步，还有更好的方式，小伙伴们能否想出？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 将远程分支更新到本地</span><br><span class="line">git fetch</span><br><span class="line">// 以o/main为基，追加side1上的节点</span><br><span class="line">git rebase o/main side1</span><br><span class="line">// 以side1为基，追加side2上的节点</span><br><span class="line">git rebase side1 side2</span><br><span class="line">// 以side2为基，追加side3上的节点</span><br><span class="line">git rebase side2 side3</span><br><span class="line">// 以side3为基，追加main上的节点(因为main是side3的父节点，因此直接将main移动至side3分支上)</span><br><span class="line">git rebase side3 main</span><br><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<p>妙哇~第一步因为不使用cherry-pick操作，而是使用rebase操作，可以省略第一步的切换分支，直接使用git fetch即可。然后将side1、side2、side3都rebase到该分支上，最后将main分支也移动到该分支上提交即可。小伙伴们如果能将这两种方法都掌握，那么cherry-pick和rebase操作基本上都难不倒大家了。</p>
<h2 id="合并远程仓库"><a href="#合并远程仓库" class="headerlink" title="合并远程仓库"></a>合并远程仓库</h2><p><img src="/images/SKILL/game28.png" alt="game28"><br>在本节中，我们探讨一个争论最大的话题，Merge OR Rebase，相信这个问题小伙伴们也听过很多次了，网上有很多人发表了极端的看法，能用Rebase绝不用merge，当然这也没问题，在本地想如何操作都是我们的自由，但是也不能认为merge毫无作用，rebase可以完全取代merge。要不然为什么会有merge的存在呢？</p>
<p>rebase的优点当然很突出，这里我们不讨论合并提交的话题，指对merge和rebase对两条提交树的变化。rebase可以让提交树变得简单，所有的提交都在一条直线上，查询历史记录也非常清晰。而merge就会导致一个节点有多个父节点，当大量使用merge的时候，会导致提交树的结构非常混乱。</p>
<p>那说回来，merge的优点是什么呢？merge不会改变提交树的历史，而rebase做不到这一点，比如A可以rebase到B的后面，在观察历史的时候，我们会有困惑，感觉为什么A会在B后面，但实际上A是在B前面提交的。但是merge就能保留这种关系。</p>
<p>我们对merge和rebase的对比就说到这里，我们来把本题解决了吧，本题和上一题几乎一样，而是要使用merge操作解答。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 将分支切换到main</span><br><span class="line">git checkout main</span><br><span class="line">// 拉取远程分支</span><br><span class="line">git pull</span><br><span class="line">// 合并分支side1</span><br><span class="line">git merge side1</span><br><span class="line">// 合并分支side2</span><br><span class="line">git merge side2</span><br><span class="line">// 合并分支side3</span><br><span class="line">git merge side3</span><br><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h2 id="远程追踪"><a href="#远程追踪" class="headerlink" title="远程追踪"></a>远程追踪</h2><p><img src="/images/SKILL/game29.png" alt="game29"><br>小伙伴们是否会感觉到困惑，为什么我们使用git pull和git push的时候，不用指定分支，而是自动将main和o/main进行了绑定呢？这也是git的机制，<strong>当你不使用任何额外命令的情况下，git默认会创建一个和远程分支名一样的本地分支名，为了区别标识在前面加了origin</strong>。</p>
<p>当然这个是我们可以指定的，我们在创建新分支的时候，可以使用git checkout -b localBranchName remoteBranchName 这样可以将本地分支和远程分支进行绑定。</p>
<p>如果已经创建出来了本地分支，那么可以使用git branch -u remoteBranchName localBranchName来进行绑定，如果省略localBranchName，则默认为当前分支。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 创建side分支并绑定o/main远程分支</span><br><span class="line">git checkout -b side o/main</span><br><span class="line">// 在side分支上进行一次提交</span><br><span class="line">git commit -m &quot;C3&quot;</span><br><span class="line">// 拉去远程分支，并换基到该分支上</span><br><span class="line">git pull --rebase</span><br><span class="line">// 将本地提交上传到远端</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<h2 id="Git-Push的参数"><a href="#Git-Push的参数" class="headerlink" title="Git Push的参数"></a>Git Push的参数</h2><p><img src="/images/SKILL/game30.png" alt="game30"><br>OK~，学到这里我们可以将最后一个遗留问题分享给大家了，在前面说过，git push时，可以加origin和branchName参数，具体什么意思呢？</p>
<p>这个意思是在本地找到branchName，然后在远端也找到绑定的分支名，然后将其提交上去。有的小伙伴就会有疑问，不加不也是这样吗？</p>
<p>其实是这样的，如果不加就会自动选择HEAD当前所在的分支。因为我们平时提交的时候，HEAD和要提交的分支在同一个节点，所以感觉不出来，如果将HEAD进行调整，则会看到不一样的情况，我们通过本题来加深理解。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 将main分支提交到远端</span><br><span class="line">git push origin main</span><br><span class="line">// 将main分支提交到远端</span><br><span class="line">git push origin foo</span><br></pre></td></tr></table></figure>
<h2 id="Git-Push参数2"><a href="#Git-Push参数2" class="headerlink" title="Git Push参数2"></a>Git Push参数2</h2><p><img src="/images/SKILL/game31.png" alt="game31"><br>git更灵活的地方在于，不仅可以将本地A分支推到远程A分支，也可以将本地A分支推到远程B分支。我们来看一看它是咋玩的？</p>
<p>git push origin localNode:remoteBranchName，这个命令厉害了，可以将本地的某个节点，推到远程的某个分支上，如果远程没有该分支，则会自动创建一个分支。我们直接做题练习。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 将C4节点提交到远端main分支</span><br><span class="line">git pull origin C4:main</span><br><span class="line">// 将C5节点提交到远端foo分支</span><br><span class="line">git pull origin C5:foo</span><br></pre></td></tr></table></figure>
<h2 id="Git-Fetch的参数"><a href="#Git-Fetch的参数" class="headerlink" title="Git Fetch的参数"></a>Git Fetch的参数</h2><p><img src="/images/SKILL/game32.png" alt="game32"><br>我们讲完了git pull的参数，git fetch的参数也就不用过多赘述了，只要记得git fetch origin remoteBranchName是将远端某个分支拉到本地，git fetch origin remoteNodeName localBranchName是将远端某个节点拉到本地。这里要注意，远端写在前面，这也是容易理解的，因为对于远端来说，remote是本地，local是远端。如果本地没有该分支，也会自动创建一个分支。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 在本地foo分支上拉取远端main分支的前一个节点</span><br><span class="line">git fetch origin main^:foo</span><br><span class="line">// 在本地main分支上拉取远端foo分支</span><br><span class="line">git fetch origin foo:main</span><br><span class="line">// 将分支切换到foo分支上</span><br><span class="line">git checkout foo</span><br><span class="line">// 合并main分支</span><br><span class="line">git merge main</span><br></pre></td></tr></table></figure>
<h2 id="没有source的source"><a href="#没有source的source" class="headerlink" title="没有source的source"></a>没有source的source</h2><p><img src="/images/SKILL/game33.png" alt="game33"><br>本节的标题是没有source的source，什么意思呢？在前面几节讲过的git push/fetch origin A:B表示从A推到B，或者从拉取A到B。则说明A是源(source)，B是目的地(destination)。</p>
<p>这里表达的没有source是指source可以省略，写成git push/fetch origin :B。这个是什么意思呢？是不是源就是默认的HEAD呢？答案并不是这样，如果git push origin :B则表示删除远程的B分支，git fetch origin :B则表示在本地新建一个B分支。这两个操作并不常用，了解即可。</p>
<p>知道了这两个命令的作用，本题答案呼之欲出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 删除远程foo分支</span><br><span class="line">git push origin :foo</span><br><span class="line">// 在本地创建bar分支</span><br><span class="line">git fetch origin :bar</span><br></pre></td></tr></table></figure>

<h2 id="Git-Pull的参数"><a href="#Git-Pull的参数" class="headerlink" title="Git Pull的参数"></a>Git Pull的参数</h2><p><img src="/images/SKILL/game34.png" alt="game34"><br>我们终于来到了最后一节，这里并没有新奇的操作，git pull = git fetch + git merge已经快要讲吐了，然而对于这一节，还是要讲一次。因为git fetch的参数已经讲的非常详细了，因此这里直接作为一个练习即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 在本地foo分支上拉取远端bar分支，并在当前分支合并foo分支</span><br><span class="line">git pull origin bar:foo</span><br><span class="line">// 在本地side分支上拉取远端main分支，并在当前分支合并side分支</span><br><span class="line">git pull origin main:side</span><br></pre></td></tr></table></figure>

<h1 id="Git小游戏小结"><a href="#Git小游戏小结" class="headerlink" title="Git小游戏小结"></a><font size=5 color=red>Git小游戏小结</font></h1><p>&emsp;&emsp;终于将git游戏讲解完毕了，洋洋洒洒一万多字的wiki，写作了半个多月，希望小伙伴们能够跟我一起练习，一起进步。</p>
<p>在这里我给大家分享一个平时开发的操作，一般是git clone拉代码，然后git checkout -b创建一个开发分支，在这个分支上面进行开发，后面是git add，git commit，git push，这三步操作让我们的代码从本地提交到远端。当代码合入以后，我们的链接已经可以在远端看到了，此时就可以git checkout main回到主分支，然后可以git branch -d删掉这个开发分支了，防止需求过多的时候，导致分支也过多。当下一次需要开发的时候，一定要记得git pull先拉取最新的分支，然后再git checkout -b创建一个新的开发分支，重复上述操作即可。这就是开发代码的主要流程。</p>
<p>对于git这个工具，我的很多朋友都认为，一步错步步错，有时候实在没办法，只能rm -rf了。如果我们完全熟悉git的常用操作，是可以完全避免这种情况的发生。上面说的这些都是git的常用操作，希望我们能够熟练运用它。</p>

      
    </div>
    
    
    

    <div>
      
        <div> 
  
    <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div> 
   
</div>


      
    </div>

    

    

    

    <footer class="post-footer">
      

      
      
        <div class="post-widgets">
        
          <div class="wp_rating">
            <div id="wpac-rating"></div>
          </div>
        

        

        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/12/25/Java_network/" rel="next" title="Java网络编程">
                <i class="fa fa-chevron-left"></i> Java网络编程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2022/01/19/skill%20develop%20feel/" rel="prev" title="社会毒打辛酸史(一)">
                社会毒打辛酸史(一) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "1",
        "bdMiniList": false,
        "bdPic": ""
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      },
      "slide": {
        "bdImg": "5",
        "bdPos": "left",
        "bdTop": "100"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/github.jpeg"
                alt="USTCcoder" />
            
              <p class="site-author-name" itemprop="name">USTCcoder</p>
              <p class="site-description motion-element" itemprop="description">身体和灵魂总有一个在路上</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
                <a href="/archives">
                  <span class="site-state-item-count">427</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">69</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/USTCcoder" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/u/5754061944" target="_blank" title="weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>weibo</a>
                  </span>
                
            </div>
          

  <div id="music163player"> 
    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=2&id=436675656&auto=0&height=32"></iframe>
  </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://baidu.com/" title="百度搜索" target="_blank">百度搜索</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.ustc.edu.cn/" title="中国科学技术大学" target="_blank">中国科学技术大学</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Git%E5%B0%8F%E6%B8%B8%E6%88%8F"><span class="nav-number">1.</span> <span class="nav-text">Git小游戏</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">2.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="nav-number">3.</span> <span class="nav-text">基础篇</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Commit"><span class="nav-number">3.1.</span> <span class="nav-text">Git Commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Branch"><span class="nav-number">3.2.</span> <span class="nav-text">Git Branch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Merge"><span class="nav-number">3.3.</span> <span class="nav-text">Git Merge</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Rebase"><span class="nav-number">3.4.</span> <span class="nav-text">Git Rebase</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E7%AF%87"><span class="nav-number">4.</span> <span class="nav-text">高级篇</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%A6%BBHEAD"><span class="nav-number">4.1.</span> <span class="nav-text">分离HEAD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8"><span class="nav-number">4.2.</span> <span class="nav-text">相对引用(^)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8-1"><span class="nav-number">4.3.</span> <span class="nav-text">相对引用(~)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%92%A4%E9%94%80%E5%8F%98%E6%9B%B4"><span class="nav-number">4.4.</span> <span class="nav-text">撤销变更</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="nav-number">5.</span> <span class="nav-text">移动提交记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Cherry-pick"><span class="nav-number">5.1.</span> <span class="nav-text">Git Cherry-pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E4%BA%92%E5%BC%8FRebase"><span class="nav-number">5.2.</span> <span class="nav-text">交互式Rebase</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9D%82%E9%A1%B9"><span class="nav-number">6.</span> <span class="nav-text">杂项</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AA%E5%8F%96%E4%B8%80%E4%B8%AA%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="nav-number">6.1.</span> <span class="nav-text">只取一个提交记录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E7%9A%84%E6%8A%80%E5%B7%A71"><span class="nav-number">6.2.</span> <span class="nav-text">提交的技巧1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E7%9A%84%E6%8A%80%E5%B7%A72"><span class="nav-number">6.3.</span> <span class="nav-text">提交的技巧2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Tag"><span class="nav-number">6.4.</span> <span class="nav-text">Git Tag</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Describe"><span class="nav-number">6.5.</span> <span class="nav-text">Git Describe</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E8%AF%9D%E9%A2%98"><span class="nav-number">7.</span> <span class="nav-text">高级话题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E6%AC%A1Rebase"><span class="nav-number">7.1.</span> <span class="nav-text">多次Rebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E7%88%B6%E8%8A%82%E7%82%B9"><span class="nav-number">7.2.</span> <span class="nav-text">两个父节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%A0%E7%BC%A0%E4%B8%8D%E6%B8%85%E7%9A%84%E5%88%86%E6%94%AF"><span class="nav-number">7.3.</span> <span class="nav-text">纠缠不清的分支</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Push-amp-Pull-%E2%80%94%E2%80%94Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">8.</span> <span class="nav-text">Push &amp; Pull ——Git远程仓库!</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Clone"><span class="nav-number">8.1.</span> <span class="nav-text">Git Clone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">8.2.</span> <span class="nav-text">远程分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Fetch"><span class="nav-number">8.3.</span> <span class="nav-text">Git Fetch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Pull"><span class="nav-number">8.4.</span> <span class="nav-text">Git Pull</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%8B%9F%E5%9B%A2%E9%98%9F%E5%90%88%E4%BD%9C"><span class="nav-number">8.5.</span> <span class="nav-text">模拟团队合作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Push"><span class="nav-number">8.6.</span> <span class="nav-text">Git Push</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%81%8F%E7%A6%BB%E7%9A%84%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2"><span class="nav-number">8.7.</span> <span class="nav-text">偏离的提交历史</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%81%E5%AE%9A%E7%9A%84Main-Locked-Main"><span class="nav-number">8.8.</span> <span class="nav-text">锁定的Main(Locked Main)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B3%E4%BA%8Eorigin%E5%92%8C%E5%AE%83%E7%9A%84%E5%91%A8%E8%BE%B9%E2%80%94%E2%80%94Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E9%AB%98%E7%BA%A7%E6%93%8D%E4%BD%9C"><span class="nav-number">9.</span> <span class="nav-text">关于origin和它的周边——Git远程仓库高级操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A8%E9%80%81%E4%B8%BB%E5%88%86%E6%94%AF"><span class="nav-number">9.1.</span> <span class="nav-text">推送主分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">9.2.</span> <span class="nav-text">合并远程仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%BD%E8%B8%AA"><span class="nav-number">9.3.</span> <span class="nav-text">远程追踪</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Push%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">9.4.</span> <span class="nav-text">Git Push的参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Push%E5%8F%82%E6%95%B02"><span class="nav-number">9.5.</span> <span class="nav-text">Git Push参数2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Fetch%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">9.6.</span> <span class="nav-text">Git Fetch的参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B2%A1%E6%9C%89source%E7%9A%84source"><span class="nav-number">9.7.</span> <span class="nav-text">没有source的source</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Pull%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">9.8.</span> <span class="nav-text">Git Pull的参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git%E5%B0%8F%E6%B8%B8%E6%88%8F%E5%B0%8F%E7%BB%93"><span class="nav-number">10.</span> <span class="nav-text">Git小游戏小结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      


      

  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">USTCcoder</span>

  
</div>

<!--
  <div class="powered-by">由USTCcoder强力驱动</div>


  <span class="post-meta-divider">|</span>




  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>
-->




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数<i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      本站总访问量<i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  




  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '37HNVv1wwpKB3vg0A6yqm9TB-gzGzoHsz',
        appKey: 'kGYPNb5xWnFV2pcjCPAREbkg',
        placeholder: '给主人一点鼓励吧( ⊙ o ⊙ )',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
  <script type="text/javascript">
  wpac_init = window.wpac_init || [];
  wpac_init.push({widget: 'Rating', id: ,
    el: 'wpac-rating',
    color: 'fc79533'
  });
  (function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = '//embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
  })();
  </script>


  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

  

<!-- 动态可交互背景（js引入）
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
 <script>
 $("body").backstretch("/images/github_logo.jpeg");
  </script>
-->
</body>
</html>
<!-- 页面点击小红心 
<script type="text/javascript" src="/js/src/clicklove.js"></script>
-->
